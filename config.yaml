# 路径配置
paths:
  parquet_data: "data/processed/all_price_data.parquet"
  plot_dir_base: "plots"
  log_dir_base: "logs"

# 回测基础参数
backtest:
  start_date: "2018-01-01"
  end_date: "2024-07-31"
  initial_capital: 1000000
  commission_rate: 0.001
  slippage: 0.0005
  rebalance_days: 20
  rebalance_months: 1

# 策略配置
strategy:
  factor_strategy:
    universe_to_trade: "All"
    
    # 因子权重
    weights:
      momentum: 1.0
      rsi: -0.5
    
    top_n: 5
    
    # --- 【新增】风控参数配置 ---
    risk_management:
      stop_loss_pct: 0.10      # 止损: 单笔亏损 10% 卖出 (设为 null 则关闭)
      max_pos_weight: 0.30     # 限仓: 单票最大 30% 仓位 (设为 null 则关闭)
      max_drawdown_pct: 0.20   # 熔断: 账户回撤 20% 清仓 (设为 null 则关闭)

# --- 新增：通知服务配置 ---
notifications:
  email:
    enabled: true
    # 发件人配置 (建议使用 Gmail 或 Outlook 个人号，开启 App Password)
    smtp_server: "smtp.gmail.com"  # 如果用 Gmail
    smtp_port: 587
    sender_email: "wangyidong020321@gmail.com" # 你的发件机器人邮箱
    sender_password: "mzrw iubx oxub efmq"     # 注意：这里填的是“应用专用密码”，不是登录密码！
    
    # 收件人配置
    receiver_email: "e1349995@u.nus.edu"       # 你的接收邮箱